# Web Props

This feature allows you to use `getServerSideProps` and `getStaticProps` on the server runtime. This has some benefits:

You can use environment variables that are only available on the server-side.
Work is offloaded to the server, which means less work for the device your app is running on.
`getStaticProps` data is cached, which means faster page loads.
Node APIs such as `fs` are available in your `getServerSideProps` and `getStaticProps` functions.

## Setup

To enable this feature, you will need to create a [Next.js API Route](https://nextjs.org/docs/api-routes/introduction) that forwards requests to Pilot.js under the `/api/pilot/[...route]` path with the following code:

```js:api/pilot/[...route].js
import { createHandler } from '@waveplay/pilot/api'
export default createHandler()
```

> **Good to know:** `api/pilot/[...route]` is the default path, but you can change it by setting the `api/path` key in your `pilot.config.js` file.

## Usage

Web props is enabled by default when running `pilot dev`. To enable it for production builds, include a `host` key in your `pilot.config.js` file:

```js:pilot.config.js
module.exports = {
	host: 'https://example.com',
}
```

The `host` key is meant to be the URL of the server your app is running on. The same URL used to visit your app in the browser.
